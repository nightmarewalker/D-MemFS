# Parametric Benchmark Sweep

## 1. Stream write+read by file size

chunk = 64KB (or file size if smaller)

| Size | MFS ms | MFS KiB | BytesIO ms | BytesIO KiB | PyFS2 ms | PyFS2 KiB | tempfile ms | tempfile KiB |
|---:|---:|---:|---:|---:|---:|---:|---:|---:|
| 10KB | 0.31 | 34.90 | 0.03 | 30.29 | 641.82 | 9,013 | 3.75 | 44.28 |
| 100KB | 0.48 | 241.09 | 0.14 | 264.33 | 0.31 | 268.99 | 2.14 | 202.70 |
| 1MB | 0.67 | 261.56 | 2.17 | 1,272 | 2.55 | 1,277 | 2.82 | 202.67 |
| 10MB | 4.97 | 268.44 | 33.70 | 11,352 | 37.27 | 11,357 | 10.58 | 202.66 |
| 100MB | 52.32 | 338.72 | 373.98 | 106,824 | 398.50 | 106,829 | 89.78 | 202.65 |
| 1GB | 529.31 | 1,039 | 3,716 | 1,127,424 | 4,080 | 1,127,429 | 880.34 | 202.80 |
| 2GB | 1,055 | 1,890 | 7,543 | 2,285,832 | 8,034 | 2,285,836 | 1,830 | 202.63 |

## 2. Many files random read by file count

file_size = 4KB, reads = count/2

| Count | MFS ms | MFS KiB | BytesIO ms | BytesIO KiB | PyFS2 ms | PyFS2 KiB | tempfile ms | tempfile KiB |
|---:|---:|---:|---:|---:|---:|---:|---:|---:|
| 10 | 0.97 | 37.50 | 0.11 | 7.56 | 1.90 | 61.59 | 5.80 | 21.38 |
| 50 | 4.07 | 102.30 | 0.17 | 9.42 | 4.15 | 250.08 | 24.32 | 21.56 |
| 100 | 8.25 | 186.05 | 0.18 | 11.79 | 8.26 | 485.82 | 48.61 | 21.71 |
| 300 | 26.26 | 517.84 | 0.79 | 17.82 | 25.57 | 1,424 | 142.79 | 32.19 |
| 500 | 39.87 | 862.05 | 1.37 | 33.84 | 42.15 | 2,367 | 239.82 | 47.74 |
| 1,000 | 85.13 | 1,715 | 3.03 | 71.50 | 84.78 | 4,719 | 480.31 | 86.84 |
| 2,000 | 162.05 | 3,421 | 6.60 | 146.84 | 185.12 | 9,425 | 940.17 | 165.56 |
| 5,000 | 421.47 | 8,477 | 18.61 | 299.76 | 451.05 | 23,498 | 2,380 | 402.23 |
| 8,000 | 669.85 | 13,656 | 27.57 | 598.84 | 713.81 | 37,654 | 3,807 | 638.56 |
| 10,000 | 854.96 | 16,945 | 43.78 | 600.00 | 906.93 | 46,980 | 4,755 | 796.77 |

## 3. Deep tree read by directory depth

1KB file at deepest level, 1000 reads

| Depth | MFS ms | MFS KiB | BytesIO ms | BytesIO KiB | PyFS2 ms | PyFS2 KiB | tempfile ms | tempfile KiB |
|---:|---:|---:|---:|---:|---:|---:|---:|---:|
| 10 | 60.08 | 9.58 | 2.14 | 1.03 | 63.67 | 114.12 | 122.06 | 12.20 |
| 20 | 80.28 | 14.16 | 1.85 | 1.56 | 71.74 | 22.59 | 157.69 | 14.33 |
| 30 | 102.02 | 18.49 | 1.87 | 2.10 | 86.03 | 30.10 | 195.76 | 18.94 |
| 40 | 130.68 | 22.92 | 1.90 | 2.63 | 100.04 | 39.08 | 231.39 | 24.38 |
| 50 | 148.44 | 28.36 | 1.99 | 3.19 | 113.71 | 49.34 | 277.87 | 29.78 |
